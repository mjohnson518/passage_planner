# EMERGENCY: Simple ts-node deployment
# Not optimal but gets service online while we fix architecture

FROM node:18-alpine

WORKDIR /app

# Copy everything (monorepo needs all files for ts-node)
COPY . .

# Install dependencies
RUN npm ci

# Work from orchestrator directory
WORKDIR /app/orchestrator

# Set production environment
ENV NODE_ENV=production

# Start with ts-node (accepts performance hit to get online)
CMD ["npx", "ts-node", "--transpile-only", "src/index.ts"]
